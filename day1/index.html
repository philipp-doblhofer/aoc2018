<!DOCTYPE html>
<html lang="en" class="no-js transparent"><head><meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<head>
</head>
<body>
	<textarea placeholder="Input ..." id="input"></textarea><br/>
	Part 1: <span id="result"></span><br/>
	Part 2: <span id="result_part2"></span>
	<script>
	$(function() {
		$('#input').change(function() {
			var result = 0;
			var frequencies = [0];
			var lines = $(this).val().split("\n");
			$('#result').html("");
			$('#result_part2').html("");
			
			$.each(lines, function(i){
				result += parseInt(lines[i]);
			});
			$('#result').html(result);
			
			
			result = 0;
			while($('#result_part2').html() == "") {
				$.each(lines, function(i){
					result += parseInt(lines[i]);
					if($('#result_part2').html() == "" && $.inArray(result, frequencies) != -1) {
						$('#result_part2').html(result);
					}
					frequencies.push(result);
				});
			}
		});
	});	
	</script>
</body>
</html>